# 测试文档

## 用户模块测试

### 用户注册测试

- **目的**: 验证用户是否可以成功注册。
- **步骤**:
  1. 发送POST请求到 `/user`，包含用户名、昵称、密码和权限等级。
  2. 验证返回状态码为201。
  3. 验证返回的`Location`头部包含用户URI。

### 用户登录测试

- **目的**: 验证用户是否可以成功登录。
- **步骤**:
  1. 发送POST请求到 `/user/login`，包含用户名和密码。
  2. 验证返回状态码为200。
  3. 验证返回的JSON中包含`access_token`和`refresh_token`。

### 获取用户信息测试

- **目的**: 验证是否可以成功获取用户信息。
- **步骤**:
  1. 使用`access_token`发送GET请求到用户URI。
  2. 验证返回状态码为200。

### 更新用户信息测试

- **目的**: 验证是否可以成功更新用户信息。
- **步骤**:
  1. 使用`access_token`发送PUT请求到用户URI，包含更新后的用户信息。
  2. 验证返回状态码为200。

### 刷新令牌测试

- **目的**: 验证是否可以使用`refresh_token`刷新`access_token`。
- **步骤**:
  1. 使用`refresh_token`发送POST请求到 `/user/refresh`。
  2. 验证返回状态码为200。
  3. 验证返回的JSON中包含新的`access_token`。

### 用户登出测试

- **目的**: 验证用户是否可以成功登出。
- **步骤**:
  1. 使用`refresh_token`发送POST请求到 `/user/logout`。
  2. 验证返回状态码为200。

### 删除用户测试

- **目的**: 验证管理员是否可以删除用户。
- **步骤**:
  1. 管理员使用`access_token`发送DELETE请求到用户URI。
  2. 验证返回状态码为200。

### 创建管理员用户测试

- **目的**: 验证是否可以创建管理员用户。
- **步骤**:
  1. 使用管理员的`access_token`发送POST请求到 `/user`，包含用户名、昵称、密码和权限等级为2。
  2. 验证返回状态码为201。

### 非管理员创建管理员用户测试

- **目的**: 验证非管理员用户不能创建管理员用户。
- **步骤**:
  1. 发送POST请求到 `/user`，包含用户名、昵称、密码和权限等级为2。
  2. 验证返回状态码为403。

## 图片模块测试

### 图片上传测试

- **目的**: 验证是否可以成功上传图片。
- **步骤**:
  1. 登录获取`access_token`。
  2. 使用`access_token`发送POST请求到 `/image`，包含图片描述和可见性。
  3. 验证返回状态码为201，并获取图片ID。
  4. 使用`access_token`和图片ID发送POST请求到 `/image/file/{image_id}`，上传图片文件。
  5. 验证返回状态码为200。

### 获取图片信息测试

- **目的**: 验证是否可以成功获取图片信息。
- **步骤**:
  1. 使用`access_token`发送GET请求到 `/image/{image_id}`。
  2. 验证返回状态码为200，并检查返回的图片信息。

### 更新图片信息测试

- **目的**: 验证是否可以成功更新图片信息。
- **步骤**:
  1. 使用`access_token`发送PUT请求到 `/image/{image_id}`，更新图片描述和可见性。
  2. 验证返回状态码为200。

### 获取图片文件测试

- **目的**: 验证是否可以成功获取图片文件。
- **步骤**:
  1. 使用`access_token`发送GET请求到 `/image/file/{image_id}`。
  2. 验证返回状态码为200，并检查返回的图片文件。

### 获取所有图片测试

- **目的**: 验证是否可以成功获取所有图片。
- **步骤**:
  1. 使用`access_token`发送GET请求到 `/image`。
  2. 验证返回状态码为200，并检查返回的图片列表。

### 删除图片测试

- **目的**: 验证是否可以成功删除图片。
- **步骤**:
  1. 使用`access_token`发送DELETE请求到 `/image/{image_id}`。
  2. 验证返回状态码为200。

## 图集模块测试
## 图集模块测试

### 创建图集测试

- **目的**: 验证是否可以成功创建图集。
- **步骤**:
  1. 登录获取`access_token`。
  2. 使用`access_token`发送POST请求到 `/album`，包含图集名称、描述、可见性和图片ID列表。
  3. 验证返回状态码为201，并获取图集位置。

### 获取图集信息测试

- **目的**: 验证是否可以成功获取图集信息。
- **步骤**:
  1. 使用`access_token`发送GET请求到 `/album/{album_id}`。
  2. 验证返回状态码为200，并检查返回的图集信息。

### 更新图集信息测试

- **目的**: 验证是否可以成功更新图集信息。
- **步骤**:
  1. 使用`access_token`发送PUT请求到 `/album/{album_id}`，更新图集名称、描述、可见性和图片ID列表。
  2. 验证返回状态码为200。

### 删除图集测试

- **目的**: 验证是否可以成功删除图集。
- **步骤**:
  1. 使用`access_token`发送DELETE请求到 `/album/{album_id}`。
  2. 验证返回状态码为200。

### 获取图集列表测试

- **目的**: 验证是否可以成功获取所有图集。
- **步骤**:
  1. 使用`access_token`发送GET请求到 `/album`。
  2. 验证返回状态码为200，并检查返回的图集列表。
